@model IEnumerable<Victuz_MVC.Models.Activity>
@using Microsoft.AspNetCore.Identity;

@inject SignInManager<Account> SignInManager
@inject UserManager<Account> UserManager

@{
    ViewData["Title"] = "Home Page";
}

@if (User.IsInRole("Admin"))
{
    <h1> Welkom admin</h1>
}
@if (User.IsInRole("Member"))
{
    <h1> Welkom lid</h1>
}

<h3>Eerstvolgende Activiteit</h3>
@if (Model != null && Model.Any())
{
    foreach (var activity in Model)
    {
        <div class="ActivityCardsContainer">
            <div class="ActivityCard">
                <div class="ActivityCard-Img">
                    @if (activity.Picture != null)
                    {
                        <img src="@activity.Picture.FilePath" alt="Activity Image" />
                    }
                    else
                    {
                        <span>No Image Available</span>
                    }
                </div>
                <div class="ActivityCard-overlay">
                    <div class="ActivityCard-header">
                        <h2 class="ActivityCard-title">@activity.Name</h2>
                    </div>
                    <div class="ActivityCard-content">
                        <p class="ActivityCard-des">@activity.Description</p>
                        <p class="ActivityCard-info">Datum en tijd: @activity.DateTime.ToString("dd-MM-yyyy HH:mm")</p>

                        @if (!ViewBag.IsBlacklisted)
                        {
                            <p class="ActivityCard-description">Locatie: @activity.Location</p>
                        }
                    </div>
                </div>
            </div>
        </div>
    }
}
else
{
    <p>Er zijn momenteel geen geplande activiteiten.</p>
}

@if (ViewBag.IsBlacklisted == true)
{
    <p style="color: red;">U bent geblokkeerd en kunt niet deelnemen aan activiteiten.</p>
}
